# SIESTA Relaxation Manager

A Python-based utility designed to automate the tedious process of checking [SIESTA](https://siesta-project.org/siesta/) output files and detecting relaxed or unrelaxed structures. This tool is especially helpful for managing multiple structures and reducing repetitive manual tasks. It also extracts atomic coordinates and unit cell vectors from unrelaxed `.out` files and can update `.fdf` files with the extracted data upon user confirmation.


## Prerequisites
- Python 3.x installed.
- Basic familiarity with SIESTA file formats (`.out` and `.fdf`).
- Sufficient permissions to read/write files in the working directories.


## Dependencies

This utility requires the following Python packages:

- [tkinter](https://docs.python.org/3/library/tkinter.html): A standard library that provides GUI components. It may need to be installed separately on some systems.

To install `tkinter` on **Ubuntu**, run:
```
sudo apt-get install python-tk
```

If you're using **Windows**, `tkinter` should be included with your Python installation.


## Features

- Designed to work with output files generated by the SIESTA software.
- Automatically scans directories for `.out` files from SIESTA runs.
- Detects whether structures in the `.out` files are relaxed or unrelaxed.
- Extracts atomic coordinates and unit cell vectors from `.out` files.
- Provides users the option to update the corresponding `.fdf` files with the extracted data.


### Disclaimer

1. **Control Over Updates**: Users have full control over updating the `.fdf` files. The program will prompt for confirmation before making changes.
   
2. **Section Identification in `.fdf` Files**: When updating `.fdf` files, the program searches for the following sections in the file:
   - `%block AtomicCoordinatesAndAtomicSpecies`
   - `%endblock AtomicCoordinatesAndAtomicSpecies`
   - `%block LatticeVectors`
   - `%endblock LatticeVectors`

   If your `.fdf` file uses a different format (e.g., `%endblock` without the section name), the program may not recognize these sections correctly. You must ensure that the `.fdf` files follow the expected format for the program to function properly.


## Compatibility

This utility has been tested under the following conditions:
- **Operating Systems**: Ubuntu 24.04.1, Windows 10
- **Python Versions**: 3.11.4, 3.12.2, 3.12.3
- **SIESTA Versions**: 4.1-268, 5.2.1


## Usage Instructions

### On Linux:
1. Open a terminal and navigate to the directory containing the program:
```
python3 siesta-relaxation-manager.py
```
2. Use the pop-up dialog to select the main directory containing your SIESTA output files.

### On Windows:
1. Open Command Prompt and navigate to the program directory:
```
python siesta-relaxation-manager.py
```
2. Use the pop-up dialog to select the main directory containing your SIESTA output files.

### User Interaction

- The program scans subdirectories and identifies `.out` files.
- For each unrelaxed structure:
  - The program extracts atomic coordinates and unit cell vectors.
  - If `.fdf` files are present, the program will prompt the user to update them.
    - Enter `Y` to update the file with extracted data.
    - Enter `N` to skip updating the file.


## License

This project is licensed under the MIT License. See the [LICENSE](./LICENSE) file for details.


## Contributing

Contributions are welcome! Please submit issues or pull requests via GitHub to help improve this utility.

---

For more information about SIESTA, visit the [official website](https://siesta-project.org/siesta/).
